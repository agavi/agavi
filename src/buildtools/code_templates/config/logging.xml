<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+
| This file is part of the Agavi package.                                    |
| Copyright (c) 2006 the Agavi Project.                                      |
| ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ |
| OUTPUT TYPE CONFIGURATION                                                  |
| ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ |
| PARAMETERS:                                                                |
|                                                                            |
| <parameters> element specifies a group of parameters to be passed to the   |
| initialization method of the class instance. Parameters can either be      |
| simple name and value pairs but also nested groups of parameters. Nested   |
| parameters can also be named and they can be nested infinitely.            |
|                                                                            |
| Any number of parameters can be passed but it's of course up to the        |
| receiving end what parameters are expected.                                |
|                                                                            |
| Example:                                                                   |
|                                                                            |
| <parameters>                                                               |
|   <parameter name="param1">value1</parameter>                              |
|   <parameter name="param2">                                                |
|     <parameters>                                                           |
|       <parameter name="subfoo1">value2</parameter>                         |
|       <parameter name="subfoo2">                                           |
|         <parameters>                                                       |
|           <parameter>first</parameter>                                     |
|           <parameter>second</parameter>                                    |
|         </parameters>                                                      |
|       </parameter>                                                         |
|     </parameters>                                                          |
|   </parameter>                                                             |
| </parameters>                                                              |
|                                                                            |
| For a list of available parameters for a class, browse the class source    |
| or documentation.                                                          |
| ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ |
| KEYWORDS:                                                                  |
|                                                                            |
| You may reference any configuration directive by enclosing the name in     |
| "%" signs. Example: %core.agavi_dir%                                       |
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~+
-->
<configurations>

	<configuration>

		<loggers default="default">

			<!-- logs only DEBUG messages -->
			<logger name="debug" class="AgaviLogger" level="AgaviLogger::DEBUG">
				<appenders>
					<appender>DebugLogAppender</appender>
				</appenders>
			</logger>

			<!-- logs only INFO messages -->
			<logger name="default" class="AgaviLogger" level="AgaviLogger::INFO">
				<appenders>
					<appender>ApplicationLogAppender</appender>
				</appenders>
			</logger>

			<!-- logs everything but DEBUG and INFO messages -->
			<logger name="error" class="AgaviLogger" level="AgaviLogger::ALL ^ AgaviLogger::DEBUG ^ AgaviLogger::INFO">
				<appenders>
					<appender>ErrorLogAppender</appender>
				</appenders>
			</logger>
		</loggers>
		<appenders>

			<!--
				Debug logs are rotated in a 7 day (AgaviRotatingFileLoggerAppender default) cycle
				Use 'cycle' parameter to alter the cycle.
			-->
			<appender name="DebugLogAppender" class="AgaviRotatingFileLoggerAppender" layout="PassthruLayout">
				<parameters>
					<parameter name="dir">%core.app_dir%/log/</parameter>
					<parameter name="prefix">debug-</parameter>
				</parameters>
			</appender>

			<appender name="ApplicationLogAppender" class="AgaviFileLoggerAppender" layout="PassthruLayout">
				<parameters>
					<parameter name="file">%core.app_dir%/log/application.log</parameter>
				</parameters>
			</appender>

			<appender name="ErrorLogAppender" class="AgaviRotatingFileLoggerAppender" layout="PassthruLayout">
				<parameters>
					<parameter name="file">%core.app_dir%/log/error.log</parameter>
				</parameters>
			</appender>

		</appenders>

		<layouts>
			<layout name="PassthruLayout" class="AgaviPassthruLoggerLayout" />
		</layouts>

	</configuration>

</configurations>